{"ast":null,"code":"import _toConsumableArray from\"/home/home/Downloads/web_dev_udacity/web_dev_projects/abhicart/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import React,{useEffect}from'react';import{Link}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{Row,Col,Image,Card,ListGroup,Button,Form}from'react-bootstrap';import Message from'../components/Message';import{addToCart,removeFromCart}from'../actions/cartActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CartScreen(_ref){var match=_ref.match,location=_ref.location,history=_ref.history;var productId=match.params.id;var qty=location.search?Number(location.search.split('=')[1]):1;var dispatch=useDispatch();var cart=useSelector(function(state){return state.cart;});var cartItems=cart.cartItems;useEffect(function(){if(productId){dispatch(addToCart(productId,qty));}},[dispatch,productId,qty]);var removeFromCartHandler=function removeFromCartHandler(id){dispatch(removeFromCart(id));};function checkoutHandler(){history.push('/login?redirect=shipping');}return/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{md:8,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Shopping Cart\"}),cartItems.length===0?/*#__PURE__*/_jsxs(Message,{children:[\"Your Cart is empty\",/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Go Back\"})]}):/*#__PURE__*/_jsx(ListGroup,{variant:\"flush\",children:cartItems.map(function(item){return/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:2,children:/*#__PURE__*/_jsx(Image,{src:item.image,alt:item.name,fluid:true,rounded:true})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(item.product),children:item.name})}),/*#__PURE__*/_jsxs(Col,{md:2,children:[\"\\u20B9\",item.price]}),/*#__PURE__*/_jsx(Col,{md:2,children:/*#__PURE__*/_jsx(Form.Control,{as:\"select\",value:item.qty,onChange:function onChange(e){return dispatch(addToCart(item.product,Number(e.target.value)));},children:_toConsumableArray(Array(item.countInStock).keys()).map(function(x){return/*#__PURE__*/_jsx(\"option\",{value:x+1,children:x+1},x+1);})})}),/*#__PURE__*/_jsx(Col,{md:2,children:/*#__PURE__*/_jsx(Button,{type:\"button\",variant:\"light\",onClick:function onClick(){return removeFromCartHandler(item.product);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash\"})})})]})},item.product);})})]}),/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Subtotal (\",cartItems.reduce(function(acc,item){return acc+item.qty;},0),\") items\"]}),\"\\u20B9\",cartItems.reduce(function(acc,item){return acc+item.qty*item.price;},0).toFixed(2)]}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(Button,{type:\"button\",className:\"btn-block\",disabled:cartItems.length===0,onClick:checkoutHandler,children:\"Procees To Checkout\"})})]})})})]});}export default CartScreen;","map":{"version":3,"sources":["/home/home/Downloads/web_dev_udacity/web_dev_projects/abhicart/frontend/src/screens/CartScreen.js"],"names":["React","useEffect","Link","useDispatch","useSelector","Row","Col","Image","Card","ListGroup","Button","Form","Message","addToCart","removeFromCart","CartScreen","match","location","history","productId","params","id","qty","search","Number","split","dispatch","cart","state","cartItems","removeFromCartHandler","checkoutHandler","push","length","map","item","image","name","product","price","e","target","value","Array","countInStock","keys","x","reduce","acc","toFixed"],"mappings":"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","sourcesContent":["import React,{useEffect} from 'react'\nimport {Link} from 'react-router-dom'\nimport {useDispatch, useSelector} from 'react-redux'\nimport {Row,Col,Image,Card,ListGroup,Button,Form} from 'react-bootstrap'\nimport Message from '../components/Message'\nimport {addToCart,removeFromCart} from '../actions/cartActions'\n\nfunction CartScreen({match,location,history}) {\n    const productId = match.params.id\n    const qty = location.search?Number(location.search.split('=')[1]):1\n    const dispatch = useDispatch()\n    const cart=useSelector(state=>state.cart)\n    const {cartItems} =cart\n    useEffect(()=>{\n    if(productId){\n        dispatch(addToCart(productId,qty))}\n    },[dispatch,productId,qty])\n\n    const removeFromCartHandler= (id)=>{\n            dispatch(removeFromCart(id))\n    }\n    function checkoutHandler(){\n      history.push('/login?redirect=shipping')\n    }\n\n    return (\n        <Row>\n        <Col md={8}>\n        <h1>Shopping Cart</h1>\n        {cartItems.length===0 ?(<Message>Your Cart is empty\n        <Link to='/'>Go Back</Link></Message>) : (\n            <ListGroup variant='flush'>\n                {cartItems.map((item) => (\n                    <ListGroup.Item key={item.product}>\n                        <Row>\n                            <Col md={2}>\n                                <Image src={item.image} alt={item.name} fluid rounded />\n                            </Col>\n                            <Col md={3}>\n                                <Link to={`/product/${item.product}`}>{item.name}</Link>\n                            </Col>\n                            <Col md={2}>₹{item.price}</Col>\n                            <Col md={2}>\n                            <Form.Control as='select' value={item.qty} \n                                onChange={(e)=> dispatch(addToCart(item.product,Number(e.target.value)))}>\n                                {[...Array(item.countInStock).keys()].map((x) => (\n                                 <option key={x + 1} value={x + 1}>{x + 1}</option>))}\n                                </Form.Control>\n                            </Col>\n                            <Col md={2}>\n                                <Button type='button' variant='light' onClick={()=>\n                                removeFromCartHandler(item.product)}>\n                                <i className='fas fa-trash'></i>\n                                </Button>\n                            </Col>\n                        </Row>\n                    </ListGroup.Item>\n                ))}\n            </ListGroup>\n        )}\n        </Col>\n        <Col md={4}>\n            <Card>\n                <ListGroup variant='flush'>\n                    <ListGroup.Item>\n                        <h2>Subtotal ({cartItems.reduce((acc,item)=> acc+item.qty,0)}) items</h2>\n                        ₹{cartItems.reduce((acc,item)=> acc+ item.qty * item.price,0 ).toFixed(2)}\n                    </ListGroup.Item>\n                    <ListGroup.Item>\n                        <Button type='button' className='btn-block' disabled={cartItems.length===0}\n                        onClick={checkoutHandler}>\n                            Procees To Checkout\n                        </Button>\n                    </ListGroup.Item>\n                </ListGroup>\n            </Card>\n        </Col>\n        </Row>\n    )\n}\n\nexport default CartScreen\n"]},"metadata":{},"sourceType":"module"}