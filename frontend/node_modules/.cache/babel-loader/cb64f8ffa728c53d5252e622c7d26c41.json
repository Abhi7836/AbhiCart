{"ast":null,"code":"import axios from 'axios';\nimport { PRODUCT_LIST_REQUEST, PRODUCT_LIST_SUCCESS, PRODUCT_LIST_FAIL, PRODUCT_DETAILS_REQUEST, PRODUCT_DETAILS_SUCCESS, PRODUCT_DETAILS_FAIL, PRODUCT_DELETE_SUCCESS, PRODUCT_DELETE_REQUEST, PRODUCT_DELETE_FAIL, PRODUCT_CREATE_REQUEST, PRODUCT_CREATE_SUCCESS, PRODUCT_CREATE_FAIL, PRODUCT_UPDATE_REQUEST, PRODUCT_UPDATE_SUCCESS, PRODUCT_UPDATE_FAIL, PRODUCT_CREATE_REVIEW_REQUEST, PRODUCT_CREATE_REVIEW_SUCCESS, PRODUCT_CREATE_REVIEW_FAIL, PRODUCT_TOP_REQUEST, PRODUCT_TOP_SUCCESS, PRODUCT_TOP_FAIL } from '../constants/productConstants';\nimport { logout } from './userActions';\nexport const listProducts = (keyword = '', pageNumber = '') => async dispatch => {\n  try {\n    dispatch({\n      type: PRODUCT_LIST_REQUEST\n    });\n    const {\n      data\n    } = await axios.get(`/api/products?keyword=${keyword}&pageNumber=${pageNumber}`);\n    dispatch({\n      type: PRODUCT_LIST_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_LIST_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.response.message\n    });\n  }\n};\nexport const listProductDetails = id => async dispatch => {\n  try {\n    dispatch({\n      type: PRODUCT_DETAILS_REQUEST\n    });\n    const {\n      data\n    } = await axios.get(`/api/products/${id}`);\n    dispatch({\n      type: PRODUCT_DETAILS_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_DETAILS_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.response.message\n    });\n  }\n};\nexport const deleteProduct = id => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: PRODUCT_DELETE_REQUEST\n    });\n    const {\n      userLogin: {\n        userInfo\n      }\n    } = getState();\n    const config = {\n      headers: {\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    };\n    await axios.delete(`/api/products/${id}`, config);\n    dispatch({\n      type: PRODUCT_DELETE_SUCCESS\n    });\n  } catch (error) {\n    const message = error.response && error.response.data.message ? error.response.data.message : error.message;\n\n    if (message === 'Not authorized, token failed') {\n      dispatch(logout());\n    }\n\n    dispatch({\n      type: PRODUCT_DELETE_FAIL,\n      payload: message\n    });\n  }\n};\nexport const createProduct = () => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: PRODUCT_CREATE_REQUEST\n    });\n    const {\n      userLogin: {\n        userInfo\n      }\n    } = getState();\n    const config = {\n      headers: {\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    };\n    const {\n      data\n    } = await axios.post(`/api/products`, {}, config);\n    dispatch({\n      type: PRODUCT_CREATE_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    const message = error.response && error.response.data.message ? error.response.data.message : error.message;\n\n    if (message === 'Not authorized, token failed') {\n      dispatch(logout());\n    }\n\n    dispatch({\n      type: PRODUCT_CREATE_FAIL,\n      payload: message\n    });\n  }\n};\nexport const updateProduct = product => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: PRODUCT_UPDATE_REQUEST\n    });\n    const {\n      userLogin: {\n        userInfo\n      }\n    } = getState();\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    };\n    const {\n      data\n    } = await axios.put(`/api/products/${product._id}`, product, config);\n    dispatch({\n      type: PRODUCT_UPDATE_SUCCESS,\n      payload: data\n    });\n    dispatch({\n      type: PRODUCT_DETAILS_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    const message = error.response && error.response.data.message ? error.response.data.message : error.message;\n\n    if (message === 'Not authorized, token failed') {\n      dispatch(logout());\n    }\n\n    dispatch({\n      type: PRODUCT_UPDATE_FAIL,\n      payload: message\n    });\n  }\n};\nexport const createProductReview = (productId, review) => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: PRODUCT_CREATE_REVIEW_REQUEST\n    });\n    const {\n      userLogin: {\n        userInfo\n      }\n    } = getState();\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    };\n    await axios.post(`/api/products/${productId}/reviews`, review, config);\n    dispatch({\n      type: PRODUCT_CREATE_REVIEW_SUCCESS\n    });\n  } catch (error) {\n    const message = error.response && error.response.data.message ? error.response.data.message : error.message;\n\n    if (message === 'Not authorized, token failed') {\n      dispatch(logout());\n    }\n\n    dispatch({\n      type: PRODUCT_CREATE_REVIEW_FAIL,\n      payload: message\n    });\n  }\n};\nexport const listTopProducts = () => async dispatch => {\n  try {\n    dispatch({\n      type: PRODUCT_TOP_REQUEST\n    });\n    const {\n      data\n    } = await axios.get(`/api/products/top`);\n    dispatch({\n      type: PRODUCT_TOP_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_TOP_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};","map":{"version":3,"sources":["/home/home/Downloads/web_dev_udacity/web_dev_projects/abhicart/frontend/src/actions/productActions.js"],"names":["axios","PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_LIST_FAIL","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_FAIL","PRODUCT_DELETE_SUCCESS","PRODUCT_DELETE_REQUEST","PRODUCT_DELETE_FAIL","PRODUCT_CREATE_REQUEST","PRODUCT_CREATE_SUCCESS","PRODUCT_CREATE_FAIL","PRODUCT_UPDATE_REQUEST","PRODUCT_UPDATE_SUCCESS","PRODUCT_UPDATE_FAIL","PRODUCT_CREATE_REVIEW_REQUEST","PRODUCT_CREATE_REVIEW_SUCCESS","PRODUCT_CREATE_REVIEW_FAIL","PRODUCT_TOP_REQUEST","PRODUCT_TOP_SUCCESS","PRODUCT_TOP_FAIL","logout","listProducts","keyword","pageNumber","dispatch","type","data","get","payload","error","response","message","listProductDetails","id","deleteProduct","getState","userLogin","userInfo","config","headers","Authorization","token","delete","createProduct","post","updateProduct","product","put","_id","createProductReview","productId","review","listTopProducts"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport {\n  PRODUCT_LIST_REQUEST,\n  PRODUCT_LIST_SUCCESS,\n  PRODUCT_LIST_FAIL,\n  PRODUCT_DETAILS_REQUEST,\n  PRODUCT_DETAILS_SUCCESS,\n  PRODUCT_DETAILS_FAIL,\n  PRODUCT_DELETE_SUCCESS,\n  PRODUCT_DELETE_REQUEST,\n  PRODUCT_DELETE_FAIL,\n  PRODUCT_CREATE_REQUEST,\n  PRODUCT_CREATE_SUCCESS,\n  PRODUCT_CREATE_FAIL,\n  PRODUCT_UPDATE_REQUEST,\n  PRODUCT_UPDATE_SUCCESS,\n  PRODUCT_UPDATE_FAIL,\n  PRODUCT_CREATE_REVIEW_REQUEST,\n  PRODUCT_CREATE_REVIEW_SUCCESS,\n  PRODUCT_CREATE_REVIEW_FAIL,\n  PRODUCT_TOP_REQUEST,\n  PRODUCT_TOP_SUCCESS,\n  PRODUCT_TOP_FAIL,\n} from '../constants/productConstants'\nimport { logout } from './userActions'\n\nexport const listProducts = (keyword='',pageNumber='')=> async(dispatch)=>{\n  try{ dispatch({type:PRODUCT_LIST_REQUEST})\n       const {data} = await axios.get(`/api/products?keyword=${keyword}&pageNumber=${pageNumber}`)\n       dispatch({type:PRODUCT_LIST_SUCCESS,payload:data,})\n  }catch(error){\n       dispatch({type:PRODUCT_LIST_FAIL,payload:error.response && error.response.data.message ? \n        error.response.data.message:error.response.message})\n  }\n}\n\nexport const listProductDetails= (id)=> async(dispatch)=>{\n  try{ dispatch({type:PRODUCT_DETAILS_REQUEST})\n       const {data} = await axios.get(`/api/products/${id}`)\n       dispatch({type:PRODUCT_DETAILS_SUCCESS,payload:data,})\n  }catch(error){\n       dispatch({type:PRODUCT_DETAILS_FAIL,payload:error.response && error.response.data.message ? \n        error.response.data.message:error.response.message,})\n  }\n}\n\nexport const deleteProduct = (id) => async (dispatch, getState) => {\n     try {dispatch({type: PRODUCT_DELETE_REQUEST,})\n       const {userLogin: { userInfo },} = getState()\n       const config = {headers: {Authorization: `Bearer ${userInfo.token}`,},}\n       await axios.delete(`/api/products/${id}`, config)\n       dispatch({type: PRODUCT_DELETE_SUCCESS,})\n     } catch (error) {\n       const message =error.response && error.response.data.message\n           ? error.response.data.message: error.message\n       if (message === 'Not authorized, token failed') {dispatch(logout())}\n       dispatch({type: PRODUCT_DELETE_FAIL,payload: message,})}\n}\n   \nexport const createProduct = () => async (dispatch, getState) => {\n     try {dispatch({type: PRODUCT_CREATE_REQUEST,})\n     const {userLogin: { userInfo },} = getState()\n     const config = {headers: {Authorization: `Bearer ${userInfo.token}`,},}\n     const { data } = await axios.post(`/api/products`, {}, config)\n     dispatch({type: PRODUCT_CREATE_SUCCESS,payload: data,})\n     }catch (error) {\n       const message =\n         error.response && error.response.data.message\n           ? error.response.data.message : error.message\n       if (message === 'Not authorized, token failed') {dispatch(logout())}\n       dispatch({type: PRODUCT_CREATE_FAIL,payload: message,})\n     }\n   }\n   \nexport const updateProduct = (product) => async (dispatch, getState) => {\n     try {dispatch({type: PRODUCT_UPDATE_REQUEST,})\n     const {userLogin: { userInfo },} = getState()\n       const config = {\n         headers: {\n           'Content-Type': 'application/json',\n           Authorization: `Bearer ${userInfo.token}`,\n         },}\n     const { data } = await axios.put(`/api/products/${product._id}`,product,config)\n     dispatch({type: PRODUCT_UPDATE_SUCCESS,payload: data,})\n     dispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: data })\n     } catch (error) {\n       const message =\n         error.response && error.response.data.message\n           ? error.response.data.message: error.message\n       if (message === 'Not authorized, token failed') {dispatch(logout())}\n       dispatch({type: PRODUCT_UPDATE_FAIL,payload: message,})\n}}\n   \nexport const createProductReview = (productId, review) => async (dispatch,getState) => {\n     try {dispatch({type: PRODUCT_CREATE_REVIEW_REQUEST,})\n       const {userLogin: { userInfo },} = getState()\n       const config = {\n         headers: {\n           'Content-Type': 'application/json',\n           Authorization: `Bearer ${userInfo.token}`,\n         },\n       }\n       await axios.post(`/api/products/${productId}/reviews`, review, config)\n       dispatch({type: PRODUCT_CREATE_REVIEW_SUCCESS,})\n     } catch (error) {\n       const message =\n         error.response && error.response.data.message\n           ? error.response.data.message: error.message\n       if (message === 'Not authorized, token failed') {dispatch(logout())}\n       dispatch({type: PRODUCT_CREATE_REVIEW_FAIL,payload: message,})\n} }\n   \nexport const listTopProducts = () => async (dispatch) => {\n     try { dispatch({ type: PRODUCT_TOP_REQUEST })\n       const { data } = await axios.get(`/api/products/top`)\n       dispatch({type: PRODUCT_TOP_SUCCESS,payload: data,})\n     } catch (error) {\n       dispatch({\n         type: PRODUCT_TOP_FAIL,\n         payload:\n           error.response && error.response.data.message\n             ? error.response.data.message: error.message,\n       })\n     }\n   }"]},"metadata":{},"sourceType":"module"}